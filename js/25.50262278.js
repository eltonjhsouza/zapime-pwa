(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[25],{d3b1:function(e,s,t){"use strict";t.r(s);var a=function(){var e=this,s=e._self._c;return s("div",[s("q-card",{staticClass:"q-ma-sm",attrs:{square:""}},[s("div",{staticClass:"text-h5 q-pa-sm q-ma-sm"},[e._v("\n      Horário de Atendimento\n      "),s("q-icon",{attrs:{name:"help"}},[s("q-tooltip",{attrs:{"content-class":"bg-light-blue-1 text-black q-pa-sm shadow-4"}},[s("span",{staticClass:"text-weight-medium"},[e._v(" Tipos de horário: ")]),s("span",{staticClass:"row col"},[e._v("\n            Aberto: Estabelecimento aberto durante todo o dia. Não será feito envio de mensagem de ausência;\n          ")]),s("span",{staticClass:"row col"},[e._v("\n            Fechado: Estabelecimento fechado durante todo o dia. Será feito envio de mensagem de ausência, independente do horário;\n          ")]),s("span",{staticClass:"row col"},[e._v("\n            Horário: Representa o horário de funcionamento do estabelecimento. O sistema enviará mensagem de ausênica quando mensagens forem recebidas fora dos horários estabelecidos.\n          ")]),s("span",{staticClass:"row col"},[e._v("\n            **Importante: A mensagem de ausência será enviada após o encerramento do atendimento automático.\n          ")])])],1),s("q-btn",{staticClass:"float-right",attrs:{color:"primary",label:"Salvar"},on:{click:e.salvarHorariosAtendimento}})],1),s("q-separator"),s("q-card-section",[s("div",{staticClass:"row q-col-gutter-sm"},e._l(e.businessHours,(function(t){return s("div",{key:t.value,staticClass:"col-xs-12 col-sm-4 q-mt-sm"},[s("q-card",{attrs:{square:"",bordered:"",flat:""}},[s("div",{staticClass:"text-body1 text-bold bg-grey-3 q-pa-xs q-pl-sm"},[e._v("\n              "+e._s(t.label)+"\n            ")]),s("q-separator"),s("q-card-section",{staticClass:"q-pt-none"},[s("q-option-group",{staticClass:"row justify-between q-mb-md",attrs:{inline:"",options:e.optType,color:"primary"},model:{value:t.type,callback:function(s){e.$set(t,"type",s)},expression:"dia.type"}}),s("div",{staticClass:"row items-baseline q-gutter-sm"},[s("q-input",{staticClass:"col-grow",attrs:{disable:"H"!==t.type,dense:"",outlined:"","error-message":"Obrigatório","hide-underline":"",type:"time"},model:{value:t.hr1,callback:function(s){e.$set(t,"hr1",s)},expression:"dia.hr1"}}),s("h6",[e._v("às")]),s("q-input",{staticClass:"col-grow",attrs:{disable:"H"!==t.type,dense:"",outlined:"","error-message":"Obrigatório","hide-underline":"",type:"time"},model:{value:t.hr2,callback:function(s){e.$set(t,"hr2",s)},expression:"dia.hr2"}})],1),s("div",{staticClass:"row items-baseline q-gutter-sm"},[s("q-input",{staticClass:"col-grow",attrs:{disable:"H"!==t.type,dense:"",outlined:"","error-message":"Obrigatório","hide-underline":"",type:"time"},model:{value:t.hr3,callback:function(s){e.$set(t,"hr3",s)},expression:"dia.hr3"}}),s("h6",[e._v("às")]),s("q-input",{staticClass:"col-grow",attrs:{disable:"H"!==t.type,dense:"",outlined:"","error-message":"Obrigatório","hide-underline":"",type:"time"},model:{value:t.hr4,callback:function(s){e.$set(t,"hr4",s)},expression:"dia.hr4"}})],1)],1)],1)],1)})),0)])],1),s("q-card",{staticClass:"q-ma-sm full-full-height",attrs:{square:"",bordered:""}},[s("div",{staticClass:"text-h6 q-pa-sm q-ma-sm"},[e._v("\n      Mensagem de Ausência\n      "),s("q-btn",{staticClass:"float-right",attrs:{color:"positive",label:"Salvar"},on:{click:e.salvarMensagemAusencia}})],1),s("q-card-section",{staticClass:"q-pt-none"},[s("div",{staticClass:"row items-center"},[s("div",{staticClass:"col-xs-3 col-sm-2 col-md-1"},[s("q-btn",{staticClass:"q-ml-sm",attrs:{round:"",flat:""}},[s("q-icon",{attrs:{size:"2em",name:"mdi-emoticon-happy-outline"}}),s("q-tooltip",[e._v("\n              Emoji\n            ")]),s("q-menu",{attrs:{anchor:"top right",self:"bottom middle",offset:[5,40]}},[s("VEmojiPicker",{staticStyle:{width:"40vw"},attrs:{showSearch:!1,emojisByRow:20,labelSearch:"Localizar...",lang:"pt-BR"},on:{select:e.onInsertSelectEmoji}})],1)],1)],1),s("div",{staticClass:"col-xs-8 col-sm-10 col-md-11 q-pl-sm"},[s("textarea",{ref:"inputEnvioMensagem",staticClass:"q-pa-sm bg-white full-width",staticStyle:{"min-height":"9vh","max-height":"9vh"},attrs:{placeholder:"Digite a mensagem",autogrow:"",dense:"",outlined:""},domProps:{value:e.messageBusinessHours},on:{input:s=>e.messageBusinessHours=s.target.value}}),s("div",{domProps:{innerHTML:e._s(" Variáveis: <br>{{nomecontato}}  {{atendimentonumero}}  {{saudacao}}")}})])])])],1)],1)},o=[],r=t("79b5"),i=t("8982");function n(){return Object(i["a"])({url:"/tenants/business-hours/",method:"get"})}function l(e){return Object(i["a"])({url:"/tenants/business-hours/",method:"put",data:e})}function c(e){return Object(i["a"])({url:"/tenants/message-business-hours/",method:"put",data:e})}var d={name:"HorarioAtendimento",components:{VEmojiPicker:r["a"]},data(){return{optType:[{value:"O",label:"Aberto"},{value:"C",label:"Fechado"},{value:"H",label:"Horário"}],businessHours:[{day:0,label:"Domingo",type:"O",hr1:"08:00",hr2:"12:00",hr3:"14:00",hr4:"18:00"},{day:1,label:"Segunda-Feira",type:"O",hr1:"08:00",hr2:"12:00",hr3:"14:00",hr4:"18:00"},{day:2,label:"Terça-Feira",type:"O",hr1:"08:00",hr2:"12:00",hr3:"14:00",hr4:"18:00"},{day:3,label:"Quarta-Feira",type:"O",hr1:"08:00",hr2:"12:00",hr3:"14:00",hr4:"18:00"},{day:4,label:"Quinta-Feira",type:"O",hr1:"08:00",hr2:"12:00",hr3:"14:00",hr4:"18:00"},{day:5,label:"Sexta-Feira",type:"O",hr1:"08:00",hr2:"12:00",hr3:"14:00",hr4:"18:00"},{day:6,label:"Sábado",type:"O",hr1:"08:00",hr2:"12:00",hr3:"14:00",hr4:"18:00"}],messageBusinessHours:null}},methods:{onInsertSelectEmoji(e){const s=this;var t=this.$refs.inputEnvioMensagem,a=t.selectionStart,o=t.selectionEnd,r=a,i=t.value;e.data&&(s.txtContent=this.messageBusinessHours,s.txtContent=i.substring(0,a)+e.data+i.substring(o,i.length),this.messageBusinessHours=s.txtContent,setTimeout((()=>{t.selectionStart=t.selectionEnd=r+e.data.length}),10))},async listarMensagemHorariosAtendimento(){const{data:e}=await n();this.businessHours=e.businessHours,this.messageBusinessHours=e.messageBusinessHours},async salvarHorariosAtendimento(){const{data:e}=await l(this.businessHours);this.businessHours=e.businessHours},async salvarMensagemAusencia(){const{data:e}=await c({messageBusinessHours:this.messageBusinessHours});this.messageBusinessHours=e.messageBusinessHours}},mounted(){this.listarMensagemHorariosAtendimento()}},u=d,m=t("2877"),h=t("f09f"),p=t("0016"),b=t("05c0"),g=t("9c40"),v=t("eb85"),q=t("a370"),y=t("9f0a"),f=t("27f9"),C=t("4e73"),w=t("eebe"),H=t.n(w),x=Object(m["a"])(u,a,o,!1,null,"cf00c7c6",null);s["default"]=x.exports;H()(x,"components",{QCard:h["a"],QIcon:p["a"],QTooltip:b["a"],QBtn:g["a"],QSeparator:v["a"],QCardSection:q["a"],QOptionGroup:y["a"],QInput:f["a"],QMenu:C["a"]})}}]);